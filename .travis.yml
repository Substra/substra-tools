language: python

python:
  - "3.7"

cache: pip

branches:
  only:
    - master
    - dev

script:
  - pip install flake8
  - flake8
  - make test
  - make doc DOCS_FILEPATH=docs/api.md.tmp
  - cmp --silent docs/api.md docs/api.md.tmp
